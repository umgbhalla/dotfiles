(()=>{var e={610:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigProvider=t.DEFAULT_CONFIG=void 0;var s=n(416),a=n(187);t.DEFAULT_CONFIG={gitpodURL:"https://gitpod.io",openAsPopup:!1};var c=function(){function e(){var n=this;this.config=t.DEFAULT_CONFIG,this.emitter=new a.EventEmitter,this.configChangeListener=function(t){t[e.LOCAL_STORAGE_KEY]&&(n.config=t[e.LOCAL_STORAGE_KEY],n.emitter.emit(e.EVENT_CONFIG_UPDATED))}}return e.create=function(){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,(t=new e).init()];case 1:return n.sent(),[2,t]}}))}))},e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return s.browser.storage.onChanged.addListener(this.configChangeListener),[4,this.readConfig()];case 1:return e=n.sent(),this.config=r(r({},t.DEFAULT_CONFIG),e),[2]}}))}))},e.prototype.setConfig=function(n){return o(this,void 0,void 0,(function(){var o,a,c;return i(this,(function(i){switch(i.label){case 0:return[4,this.readConfig()];case 1:return o=i.sent(),a=r(r(r({},t.DEFAULT_CONFIG),o),n),(c={})[e.LOCAL_STORAGE_KEY]=a,[4,s.browser.storage.local.set(c)];case 2:return i.sent(),[2]}}))}))},e.prototype.getConfig=function(){return this.config},e.prototype.on=function(t){this.emitter.on(e.EVENT_CONFIG_UPDATED,t)},e.prototype.dispose=function(){s.browser.storage.onChanged.removeListener(this.configChangeListener),this.emitter.removeAllListeners()},e.prototype.readConfig=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,s.browser.storage.local.get(e.LOCAL_STORAGE_KEY)];case 1:return[2,t.sent().config||{}]}}))}))},e.LOCAL_STORAGE_KEY="config",e.EVENT_CONFIG_UPDATED="config-updated",e}();t.ConfigProvider=c},171:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(108);n(657);var s,a,c=n(610),u=n(374),l=n(787),f=Promise.resolve(),g=!1,m=function(e){return void 0===e&&(e=!1),r(void 0,void 0,void 0,(function(){var t,n,r,s,a;return o(this,(function(o){switch(o.label){case 0:return[4,c.ConfigProvider.create()];case 1:return t=o.sent(),n=t.getConfig(),(r=document.getElementById("ExtensionCheck_GitpodBrowserExtension"))?(r.innerHTML="installed",e&&window.open(n.gitpodURL),[2]):(s=new u.InjectorProvider(t),(a=s.findInjectorForCurrentPage())?(e&&window.open(l.renderGitpodUrl(n.gitpodURL)),[4,a.inject()]):(e&&window.open(n.gitpodURL),[2]));case 2:return o.sent(),[4,i];case 3:return o.sent(),p(a),t.on((function(){d(),t.dispose()})),[2]}}))}))},p=function(e){(s=new MutationObserver((function(t){e.checkIsInjected()||g||(g=!0,e.update().then((function(){return g=!1})))}))).observe(document,{childList:!0,subtree:!0,attributes:!0,characterData:!0})},d=function(){f.then((function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return g=!1,s&&(s.disconnect(),s=void 0),[2]}))}))})).then((function(){return m()}))};f=m(!!(a=document.getElementById("gitpod-extension-icon-clicked"))&&(a.remove(),!0))},539:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BitbucketInjector=void 0;var a,c=n(759),u=n(787),l=n(24);!function(e){e.NAV_BTN_ID="gitpod-btn-nav",e.NAV_BTN_CLASS="gitpod-nav-btn",e.NAV_BTN_CLASS_SELECTOR="."+e.NAV_BTN_CLASS,e.CSS_REF_BTN_CONTAINER="gitpod-btn-container",e.CSS_REF_NO_CONTAINER="no-container"}(a||(a={}));var f=function(e){function t(t){return e.call(this,t,[new m,new p,new h,new d,new A,new v])||this}return o(t,e),t.prototype.canHandleCurrentPage=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++){var n=e[t];if("application-name"===n.name&&n.content.toLowerCase().includes("bitbucket"))return!0}return!1},t.prototype.checkIsInjected=function(){var e=document.getElementById(""+a.NAV_BTN_ID),t=u.renderGitpodUrl(this.config.gitpodURL);return c.checkIsBtnUpToDate(e,t)},t.prototype.inject=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return this.injectButtons(!1),[2]}))}))},t.prototype.update=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return this.injectButtons(!1),[2]}))}))},t}(c.InjectorBase);t.BitbucketInjector=f;var g=function(){function e(e,t,n){this.parent=e,this.btnClasses=t,this.up=n}return e.prototype.inject=function(e,t){var n=l(this.parent);if(n&&this.up)for(var r=0;r<this.up;r++){if(!n.parentElement)return;n=n.parentElement}if(n){var o=document.getElementById(a.NAV_BTN_ID);if(o)c.checkIsBtnUpToDate(o,e)||(o.href=e);else{var i=this.renderButton(e,t),s=n.children;s&&s.length>0&&n.insertBefore(i,s[0])}}},e.prototype.renderButton=function(e,t,n){void 0===n&&(n=!0);var r=a.NAV_BTN_CLASS;n&&(r=r+" "+this.btnClasses+" aui-button");var o=document.createElement("div");o.id=a.CSS_REF_BTN_CONTAINER,o.className=r;var i=document.createElement("a");return i.id=a.NAV_BTN_ID,i.title="Gitpod",i.text="Gitpod",i.href=e,i.target="_blank",t&&u.makeOpenInPopup(i),i.className="btn btn-sm btn-primary",o.appendChild(i),o},e}(),m=function(e){function t(){return e.call(this,".branch-toolbar .aui-buttons","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/branch/")},t}(g),p=function(e){function t(){return e.call(this,"#pullrequest-actions .aui-buttons:last-child","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return l(this.parent)&&window.location.pathname.includes("/pull-requests/")},t}(g),d=function(e){function t(){return e.call(this,'[data-qa="pr-header-actions-drop-down-menu-styles"]',"bitbucket-button",2)||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return l(this.parent)&&window.location.pathname.includes("/pull-requests/")},t}(g),h=function(e){function t(){return e.call(this,"#issue-header .aui-buttons:last-child","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return l(this.parent)&&window.location.pathname.includes("/issues/")},t}(g),A=function(e){function t(){return e.call(this,".commit-actions","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/commits/")},t}(g),v=function(e){function t(){return e.call(this,'[data-qa="page-header-wrapper"] button',"bitbucket-button",2)||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/src/")},t}(g)},606:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GitHubInjector=void 0;var a,c=n(24),u=n(869),l=n(759),f=n(787);!function(e){e.NAV_BTN_ID="gitpod-btn-nav",e.NAV_BTN_CLASS="gitpod-nav-btn",e.NAV_BTN_CLASS_SELECTOR="."+e.NAV_BTN_CLASS,e.CSS_REF_BTN_CONTAINER="gitpod-btn-container",e.CSS_REF_NO_CONTAINER="no-container"}(a||(a={}));var g=function(e){function t(t){return e.call(this,t,[new p,new d,new h,new A,new v])||this}return o(t,e),t.prototype.canHandleCurrentPage=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++){var n=e[t];if("hostname"===n.name&&n.content.includes("github"))return!0}return!1},t.prototype.checkIsInjected=function(){var e=document.getElementById(""+a.NAV_BTN_ID),t=f.renderGitpodUrl(this.config.gitpodURL);return l.checkIsBtnUpToDate(e,t)},t.prototype.inject=function(){return i(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return u((function(){e.checkIsInjected()||e.injectButtons()})),[2]}))}))},t.prototype.update=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return this.injectButtons(),[2]}))}))},t}(l.InjectorBase);t.GitHubInjector=g;var m=function(){function e(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),this.parentSelector=e,this.btnClasses=t,this.float=n,this.asFirstChild=r}return e.prototype.inject=function(e,t){var n=c(this.parentSelector);if(n){var r=document.getElementById(a.NAV_BTN_ID);if(r)l.checkIsBtnUpToDate(r,e)||(r.href=e);else{var o=this.renderButton(e,t),i=n.getElementsByClassName("BtnGroup"),s=Array.from(n.children).filter((function(e){return"details"===e.tagName.toLowerCase()&&e.id.endsWith("more-options-details")}));i&&i.length>0&&i[0].classList.contains("float-right")?n.insertBefore(o,i[0]):s&&s.length>0?(s[0].previousElementSibling&&s[0].previousElementSibling.classList.remove("mr-2"),o.classList.add("mr-2"),n.insertBefore(o,s[0])):this.asFirstChild&&n?n.insertBefore(o,n.firstChild):n.appendChild(o);var u=n.getElementsByClassName("btn-primary");u&&u.length>1&&Array.from(u).slice(0,u.length-1).forEach((function(e){return e.classList.replace("btn-primary","btn-secondary")}))}}},e.prototype.renderButton=function(e,t){var n=this.btnClasses+" "+a.NAV_BTN_CLASS;this.float&&(n+=" float-right");var r=document.createElement("div");r.id=a.CSS_REF_BTN_CONTAINER,r.className=n;var o=document.createElement("a");return o.id=a.NAV_BTN_ID,o.title="Gitpod",o.text="Gitpod",o.href=e,o.target="_blank",t&&f.makeOpenInPopup(o),o.className="btn btn-sm btn-primary",this.adjustButton(o),r.appendChild(o),r},e.prototype.adjustButton=function(e){},e}(),p=function(e){function t(){return e.call(this,".gh-header-actions","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/pull/")},t}(m),d=function(e){function t(){return e.call(this,".gh-header-actions","")||this}return o(t,e),t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/issues/")},t}(m),h=function(e){function t(){return e.call(this,".repository-content > div > div","gitpod-file-btn")||this}return o(t,e),t.prototype.adjustButton=function(e){e.className="btn btn-primary"},t.prototype.isApplicableToCurrentPage=function(){return window.location.pathname.includes("/blob/")},t}(m),A=function(e){function t(){return e.call(this,".file-navigation","empty-icon position-relative")||this}return o(t,e),t.prototype.adjustButton=function(e){e.className="btn btn-primary"},t.prototype.isApplicableToCurrentPage=function(){return!!c.exists(".file-navigation")},t}(m),v=function(e){function t(){return e.call(this,".repository-content",a.CSS_REF_NO_CONTAINER,!1,!0)||this}return o(t,e),t.prototype.adjustButton=function(e){e.className="btn btn-primary"},t.prototype.isApplicableToCurrentPage=function(){return!!c.exists("#empty-setup-clone-url")},t}(m)},317:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GitlabInjector=void 0;var a,c=n(108),u=n(24),l=n(759),f=n(787);!function(e){e.BTN_ID="gitpod-btn-nav",e.BTN_CLASS="gitpod-nav-btn"}(a||(a={}));var g=function(e){function t(t){var n=e.call(this,t,[new m])||this;return n.configProvider=t,n}return o(t,e),t.prototype.canHandleCurrentPage=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if(e[t].content.toLowerCase().includes("gitlab"))return!0;return!1},t.prototype.checkIsInjected=function(){var e=document.getElementById(""+a.BTN_ID),t=f.renderGitpodUrl(this.config.gitpodURL);return l.checkIsBtnUpToDate(e,t)},t.prototype.inject=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c];case 1:return e.sent(),this.injectButtons(!1),[2]}}))}))},t.prototype.update=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return this.injectButtons(!1),[2]}))}))},t}(l.InjectorBase);t.GitlabInjector=g;var m=function(){function e(){}return e.prototype.isApplicableToCurrentPage=function(){return!!u.exists(e.PARENT_SELECTOR)&&!!u.exists(".project-clone-holder")&&!u.exists('[data-qa-selector="gitpod_button"]')},e.prototype.inject=function(t,n){var r=u(e.PARENT_SELECTOR);if(r&&r.firstElementChild){var o=document.getElementById(a.BTN_ID);if(!o||l.checkIsBtnUpToDate(o,t)){var i=this.renderButton(t,n);r.firstElementChild.appendChild(i);var s=r.firstElementChild.getElementsByClassName("btn-primary");s&&s.length>1&&Array.from(s).slice(0,s.length-1).forEach((function(e){e.classList.remove("btn-primary"),Array.from(e.getElementsByTagName("svg")).forEach((function(e){return e.style.fill="currentColor"}))}))}else o.href=t}},e.prototype.renderButton=function(e,t){var n=document.createElement("div");n.className="project-clone-holder d-none d-md-inline-block";var r=document.createElement("div");r.className="git-clone-holder js-git-clone-holder";var o=document.createElement("a");return o.id=a.BTN_ID,o.title="Gitpod",o.text="Gitpod",o.href=e,o.target="_blank",o.className="gl-button btn btn-info",t&&f.makeOpenInPopup(o),r.appendChild(o),n.appendChild(r),n},e.PARENT_SELECTOR=".tree-controls",e}()},374:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectorProvider=void 0;var o=n(606),i=n(317),s=n(539),a=function(){function e(e){this.injectors=[new o.GitHubInjector(e),new i.GitlabInjector(e),new s.BitbucketInjector(e)]}return e.prototype.findInjectorForCurrentPage=function(){var e,t;try{for(var n=r(this.injectors),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.canHandleCurrentPage())return i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e}();t.InjectorProvider=a},759:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsBtnUpToDate=t.InjectorBase=void 0;var o=n(787),i=function(){function e(e,t){this.configProvider=e,this.buttonInjectors=t}return e.prototype.injectButtons=function(e){var t,n;void 0===e&&(e=!1);var i=o.renderGitpodUrl(this.config.gitpodURL);try{for(var s=r(this.buttonInjectors),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.isApplicableToCurrentPage()&&(c.inject(i,this.config.openAsPopup),e))break}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},Object.defineProperty(e.prototype,"config",{get:function(){return this.configProvider.getConfig()},enumerable:!1,configurable:!0}),e}();t.InjectorBase=i,t.checkIsBtnUpToDate=function(e,t){return!!e&&e instanceof HTMLAnchorElement&&e.href===t}},787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeOpenInPopup=t.renderGitpodUrl=void 0,t.renderGitpodUrl=function(e){return e+"/#"+window.location.protocol+"//"+window.location.host+window.location.pathname},t.makeOpenInPopup=function(e){e.onclick=function(){return!window.open(e.href,e.target,"menubar=no,toolbar=no,location=no,dependent")}}},747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"\n\n/* GitHub */\n/* CSS selects by ID to override default style (loaded earlier: higher priority) */\n.repository-content > div #gitpod-btn-container.gitpod-file-btn,\n.file-navigation #gitpod-btn-container {\n    margin-left: 6px;\n}\n\n.no-container {\n    margin-bottom: 10px;\n    display: flex;\n    justify-content: flex-end;\n}\n\n/* Bitbucket */\n#commit-header .commit-actions {\n    width: 305px;\n}\n\n.bitbucket-button {\n    background: rgba(9, 30, 66, 0.04);\n    border: none;\n    outline: 0;\n    height: 2.28571429em;\n    line-height: 1.57142857em;\n    box-sizing: border-box;\n    border-radius: 3.01px;\n    cursor: pointer;\n    display: inline-block;\n    margin: 0 4px;\n    padding: 4px 10px;\n    vertical-align: baseline;\n    white-space: nowrap;\n}\n\n.bitbucket-button:hover {\n    background: rgba(9, 30, 66, 0.08);\n}\n\n.bitbucket-button a, .aui-button a {\n    text-decoration: none;\n    color: #42526e !important;\n    font-family: inherit;\n    font-size: 14px;\n    font-variant: normal;\n    font-weight: 500;\n}\n\n.bitbucket-button a:focus {\n    outline: none;\n}",""]);const i=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},108:e=>{"use strict";const t=()=>"interactive"===document.readyState||"complete"===document.readyState,n=new Promise((e=>{t()?e():document.addEventListener("DOMContentLoaded",(()=>{e()}),{capture:!0,once:!0,passive:!0})}));Object.defineProperty(n,"hasLoaded",{get:()=>t()}),e.exports=n},187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function g(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=p(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return g(this,e,!0)},i.prototype.rawListeners=function(e){return g(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},869:(e,t)=>{"use strict";e.exports=e=>{if(!e)throw new Error("Missing argument callback");if("function"!=typeof e)throw new TypeError("Callback is not a function");document.addEventListener("pjax:end",e),e()}},24:e=>{"use strict";function t(e){return"function"==typeof e.querySelectorAll}function n(e,t){return 2!==arguments.length||t?(t||document).querySelector(e):null}n.last=function(e,t){if(2===arguments.length&&!t)return null;const n=(t||document).querySelectorAll(e);return n[n.length-1]},n.exists=function(e,t){return 2===arguments.length?Boolean(n(e,t)):Boolean(n(e))},n.all=function(e,n){if(2===arguments.length&&!n)return[];if(!n||t(n)){const t=(n||document).querySelectorAll(e);return Array.apply(null,t)}const r=[];for(let t=0;t<n.length;t++){const o=n[t].querySelectorAll(e);for(let e=0;e<o.length;e++)r.push(o[e])}const o=[];return r.forEach((function(e){o.push(e)})),o},e.exports=n},657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(379),o=n.n(r),i=n(747);o()(i.Z,{insert:"head",singleton:!1});const s=i.Z.locals||{}},379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function s(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],c=t.base?a[0]+t.base:a[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=s(l),g={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(g)):i.push({identifier:l,updater:d(g,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function g(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,p=0;function d(e,t){var n,r,o;if(t.singleton){var i=p++;n=m||(m=c(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=c(t),r=g.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);i[o].references--}for(var c=a(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}},416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browser=n(150)},150:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(r="function"==typeof(n=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),o={has:(t,n)=>n in e||n in r,get(o,l,f){if(l in r)return r[l];if(!(l in e))return;let g=e[l];if("function"==typeof g)if("function"==typeof t[l])g=a(e,e[l],t[l]);else if(c(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:s},t))}))})(l,n[l]);g=a(e,e[l],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(c(t,l)||c(n,l)))g=u(g,t[l],n[l]);else{if(!c(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),g;g=u(g,t[l],n["*"])}return r[l]=g,g},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,o)},l=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let f=!1;const g=new o((e=>"function"!=typeof e?e:function(t,r,o){let i,s,a=!1,c=new Promise((e=>{i=function(t){f||(console.warn(n,(new Error).stack),f=!0),a=!0,e(t)}}));try{s=e(t,r,i)}catch(e){s=Promise.reject(e)}const u=!0!==s&&((l=s)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==s&&!u&&!a)return!1;return(u?s:c).then((e=>{o(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),m=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=m.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},d={runtime:{onMessage:l(g),onMessageExternal:l(g),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},u(e,d,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser})?n.apply(t,[e]):n)||(e.exports=r)}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(171)})();